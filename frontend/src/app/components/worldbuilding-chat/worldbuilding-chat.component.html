<div class="worldbuilding-chat-container" 
     *ngIf="isInitialized && chatConfig"
     role="application"
     aria-label="Worldbuilding Chat Interface">
  
  <!-- Simplified Full-Width Chat Interface -->
  <div class="chat-interface-wrapper" 
       role="region"
       aria-label="Worldbuilding chat assistant"
       aria-live="polite">
    <app-chat-interface
      [config]="chatConfig"
      [disabled]="disabled"
      [processing]="processing"
      (messageSent)="onMessageSent($event)"
      (messageAction)="onMessageAction($event)"
      (branchChanged)="onBranchChanged($event)"
      (conversationCleared)="onConversationCleared()">
    </app-chat-interface>
  </div>

  <!-- Error Display -->
  <div *ngIf="error" 
       class="error-message" 
       role="alert" 
       aria-live="assertive">
    <i class="icon-error" aria-hidden="true"></i>
    <span>{{ error }}</span>
  </div>
</div>

<!-- Loading State -->
<div *ngIf="!isInitialized" 
     class="loading-state" 
     role="status" 
     aria-live="polite"
     aria-label="Loading worldbuilding chat interface">
  <div class="loading-spinner" aria-hidden="true"></div>
  <p>Initializing worldbuilding chat...</p>
  <div class="sr-only">Please wait while the worldbuilding chat interface loads.</div>
</div>

<!-- Error State -->
<div *ngIf="!story" 
     class="error-state" 
     role="alert" 
     aria-live="assertive">
  <i class="icon-error" aria-hidden="true"></i>
  <p>Unable to initialize worldbuilding chat: No story provided</p>
  <div class="sr-only">
    The worldbuilding chat cannot be initialized because no story data was provided. 
    Please ensure you have a story selected and try again.
  </div>
</div>
